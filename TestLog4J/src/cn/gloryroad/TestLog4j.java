package cn.gloryroad;

import org.testng.annotations.Test;
import org.testng.annotations.BeforeClass;
import org.apache.log4j.xml.DOMConfigurator;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.AfterMethod;

public class TestLog4j {
	public WebDriver driver;
	String baseUrl ="http://www.sogou.com/";
  @Test
  public void testSearch() {
	  Log.startTestCase("搜索");
	  
	  driver.get(baseUrl+"/");
	  
	  Log.info("打开sogou首页");
	  
	  driver.findElement(By.id("query")).sendKeys("光荣之路自动化测试");
	  
	  Log.info("输入搜索关键字“光荣之路自动化测试”");
	  
	  driver.findElement(By.id("stb")).click();
	  
	  Log.info("单击搜索按钮");
	  
	  Log.endTestCase("搜索");
  }
  
  @BeforeMethod
  public void beforeMethod(){
	  driver=new FirefoxDriver();
  }
  
  @AfterMethod
  public void afterMethod(){
	  driver.quit();
  }
  
  @BeforeClass
  public void beforeclass(){
	  DOMConfigurator.configure("log4j.xml");
  }
}
